{"version":3,"sources":["beep.mp3","tomato.png","index.js"],"names":["module","exports","App","useState","mode","setMode","timer","setTimer","status","setStatus","break","session","length","setLength","alarm","useRef","timerRef","useEffect","start","Date","now","current","setTimeout","prevTimer","Math","round","counter","play","clearTimeout","adjust","e","value","target","type","id","split","prevLength","src","tomato","alt","Adjuster","onClick","Timer","load","beep","ref","props","className","floor","min","sec","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3047a0e6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/beep.d4fa9521.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tomato.fb26bb57.png\";","import React, { useState, useEffect, useRef } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport beep from \"./beep.mp3\";\r\nimport tomato from \"./tomato.png\";\r\n\r\nfunction App() {\r\n  const [mode, setMode] = useState(\"session\");\r\n  const [timer, setTimer] = useState(0);\r\n  const [status, setStatus] = useState(\"stop\");\r\n\r\n  const [length, setLength] = useState({ break: 5 * 60, session: 25 * 60 });\r\n\r\n  const alarm = useRef();\r\n  const timerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (status === \"run\") {\r\n      if (timer >= 0) {\r\n        let start = Date.now();\r\n        timerRef.current = setTimeout(() => {\r\n          counter(start);\r\n        }, 1000);\r\n        if (timer === 0) {\r\n          alarm.current.play();\r\n        }\r\n      } else if (timer < 0) {\r\n        if (mode === \"session\") {\r\n          setMode(\"break\");\r\n          setTimer(length[\"break\"]);\r\n        } else if (mode === \"break\") {\r\n          setMode(\"session\");\r\n          setTimer(length[\"session\"]);\r\n        }\r\n      }\r\n    } else if (status === \"stop\" && timer !== length.session) {\r\n      setTimer(length.session);\r\n    } else if (status === \"pause\") {\r\n      clearTimeout(timerRef.current);\r\n    }\r\n  }, [status, timer, length.session]);\r\n\r\n  function counter(start) {\r\n    setTimer(\r\n      (prevTimer) => prevTimer - Math.round((Date.now() - start) / 1000)\r\n    );\r\n  }\r\n\r\n  const adjust = (e) => {\r\n    let value = e.target.value;\r\n    let type = e.target.id.split(\"-\")[0];\r\n\r\n    if (value === \"+\" && status === \"stop\" && length[type] < 59 * 61) {\r\n      setLength((prevLength) => ({\r\n        ...prevLength,\r\n        [type]: prevLength[type] + 60,\r\n      }));\r\n    } else if (value === \"-\" && status === \"stop\" && length[type] > 60) {\r\n      setLength((prevLength) => ({\r\n        ...prevLength,\r\n        [type]: prevLength[type] - 60,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const startStop = () => {\r\n    if (status === \"stop\") {\r\n      setStatus(\"run\");\r\n    } else if (status === \"pause\") {\r\n      setStatus(\"run\");\r\n    } else if (status === \"run\") {\r\n      setStatus(\"pause\");\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setStatus(\"stop\");\r\n    setMode(\"session\");\r\n    setTimer(25 * 60);\r\n    setLength({ break: 5 * 60, session: 25 * 60 });\r\n    alarm.current.load();\r\n  };\r\n\r\n  return (\r\n    <div id=\"App\">\r\n      <img id=\"tomato\" src={tomato} alt=\"tomato logo\" />\r\n      <Adjuster\r\n        id=\"break\"\r\n        type={\"break\"}\r\n        length={length[\"break\"]}\r\n        onClick={adjust}\r\n      />\r\n      <Adjuster\r\n        id=\"session\"\r\n        type=\"session\"\r\n        length={length[\"session\"]}\r\n        onClick={adjust}\r\n      />\r\n      <Timer id=\"timer\" timer={timer} mode={mode} />\r\n      <button id=\"start_stop\" onClick={startStop}>\r\n        &#9654;&#9208;\r\n      </button>\r\n      <button id=\"reset\" onClick={reset}>\r\n        &#8634;\r\n      </button>\r\n      <audio id=\"beep\" src={beep} ref={alarm}></audio>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Adjuster = (props) => {\r\n  return (\r\n    <div className=\"adjuster\">\r\n      <div className=\"label\" id={`${props.type}-label`}>\r\n        {props.type} length\r\n      </div>\r\n      <button id={`${props.type}-increment`} value=\"+\" onClick={props.onClick}>\r\n        +\r\n      </button>\r\n      <div id={`${props.type}-length`}>{Math.floor(props.length / 60)}</div>\r\n      <button id={`${props.type}-decrement`} value=\"-\" onClick={props.onClick}>\r\n        -\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Timer = (props) => {\r\n  let min = Math.floor(props.timer / 60);\r\n  let sec = props.timer % 60;\r\n  return (\r\n    <div id=\"timer\">\r\n      <div className=\"label\" id=\"timer-label\">\r\n        {props.mode}{\" \"}\r\n      </div>\r\n      <div id=\"time-left\">\r\n        {min < 10 ? \"0\" + min : min}:{sec < 10 ? \"0\" + sec : sec}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}